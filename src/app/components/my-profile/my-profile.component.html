<div class="container grid w-full">
  <div class="col-12">
    <div class="lg:col-10 lg:col-offset-1 col-12 col-offset-0 pb-6">
      <div class="grid">
        <div class="lg:col-3 lg:col-offset-0 md:col-3 md:col-offset-0 sm:col-4 sm:col-offset-2 sm:col-6 col-3 col-offset-0">
          <div>
            <p-image [src]="profileData.profilepic" [preview]="true" alt="Image"
              styleClass="hover-opacity-75 cursor-pointer border-circle dp-span"
              imageClass="w-full aspect-ratio-1 border-circle">
            </p-image>
          </div>
        </div>
        <div class="lg:col-9 md:col-9 md:col-offset-0 sm:col-10 sm:col-offset-1 col-12 py-6">
          <div class="flex flex-column gap-4 lg:px-4 sm:px-1">
            <div class="flex align-items-center gap-6 sm:justify-content-between md:justify-content-start">
              <div class="font-medium text-2xl">{{ profileData.username }}</div>
              <div class="flex align-items-center gap-2">
                <p-button label="Edit Profile" icon="pi pi-pencil" severity="secondary" styleClass="border-noround" (onClick)="show()"/>
                <p-button label="Unsplash likes" icon="pi pi-bookmark-fill" severity="secondary"
                  styleClass="border-noround" />
              </div>
            </div>

            <div class="flex align-items-center lg:gap-8 sm:gap-6 sm:justify-content-between md:justify-content-start">
              <div class="flex flex-column align-items-center gap-2">
                <div class="font-medium text-xl">Posts</div>
                <div class="text-lg">{{ profileData.posts?.length || 0 }}</div>
              </div>
              <div class="flex flex-column align-items-center gap-2">
                <div class="font-medium text-xl">Followers</div>
                <div class="text-lg">{{ profileData.followers?.length || 0 }}</div>
              </div>
              <div class="flex flex-column align-items-center gap-2">
                <div class="font-medium text-xl">Following</div>
                <div class="text-lg">{{ profileData.following?.length || 0 }}</div>
              </div>
            </div>
            <div>
              <div class="font-medium">{{ profileData.firstname + " " + profileData.lastname }}</div>
              <div class="font-light py-2">{{ profileData?.bio || "" }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-10 col-offset-1">
      <div class="grid">
        <div *ngFor="let post of profileData.posts" class="lg:col-4 md:col-6 sm:col-12 col-12 p-1">
          <p-image [src]="post.postUrl" [preview]="true" alt="Image" styleClass="cursor-pointer"
            imageClass="w-full aspect-ratio-1">
            <ng-template #preview let-style="style" let-previewCallback="previewCallback">
              <div>
                <div>
                  <img [src]="post.postUrl" alt="image" [style]="style" style="max-height: 50rem;"
                  (click)="previewCallback()" />
                </div>
                <div>
                  <h3 class="text-center">Image Preview</h3>
                </div>
              </div>
              
            </ng-template>
          </p-image>
        </div>
        <!-- <div class="lg:col-4 md:col-6 sm:col-12 col-12 p-1">
          <p-image [src]="profileData.profilepic" [preview]="true" alt="Image" styleClass="cursor-pointer"
            imageClass="w-full aspect-ratio-1">
          </p-image>
        </div>
        <div class="lg:col-4 md:col-6 sm:col-12 col-12 p-1">
          <p-image [src]="profileData.profilepic" [preview]="true" alt="Image" styleClass="cursor-pointer"
            imageClass="w-full aspect-ratio-1">
          </p-image>
        </div>
        <div class="lg:col-4 md:col-6 sm:col-12 col-12 p-1">
          <p-image [src]="profileData.profilepic" [preview]="true" alt="Image" styleClass="cursor-pointer"
            imageClass="w-full aspect-ratio-1">
          </p-image>
        </div>
        <div class="lg:col-4 md:col-6 sm:col-12 col-12 p-1">
          <p-image [src]="profileData.profilepic" [preview]="true" alt="Image" styleClass="cursor-pointer"
            imageClass="w-full aspect-ratio-1">
          </p-image>
        </div>
        <div class="lg:col-4 md:col-6 sm:col-12 col-12 p-1">
          <p-image [src]="profileData.profilepic" [preview]="true" alt="Image" styleClass="cursor-pointer"
            imageClass="w-full aspect-ratio-1">
          </p-image>
        </div>
        <div class="lg:col-4 md:col-6 sm:col-12 col-12 p-1">
          <p-image [src]="profileData.profilepic" [preview]="true" alt="Image" styleClass="cursor-pointer"
            imageClass="w-full aspect-ratio-1">
          </p-image>
        </div>
        <div class="lg:col-4 md:col-6 sm:col-12 col-12 p-1">
          <p-image [src]="profileData.profilepic" [preview]="true" alt="Image" styleClass="cursor-pointer"
            imageClass="w-full aspect-ratio-1">
          </p-image>
        </div> -->
      </div>
    </div>
  </div>
</div>





<!-- <div class="flex justify-content-center">
  <div class="card p-4 w-8">
    <img [src]="profileData.profilepic" alt="Profile Picture" class="profile-pic"/>
    <h2>{{ profileData.username }}</h2>
    <p>Followers: {{ profileData.followers.length }}</p>
    <p>Following: {{ profileData.following.length }}</p>
    <p>Posts: {{ profileData.posts.length }}</p>

    <h3>Personal Information</h3>
    <input type="text" [(ngModel)]="profileData.firstname" placeholder="First Name" class="p-inputtext w-full"/>
    <input type="text" [(ngModel)]="profileData.lastname" placeholder="Last Name" class="p-inputtext w-full"/>
    <textarea [(ngModel)]="profileData.bio" placeholder="Bio" class="p-inputtext w-full"></textarea>
    <button class="p-button w-full" (click)="updateProfile()">Update Profile</button>

    <h3>Add a New Post</h3>
    <input type="file" (change)="updateFile($event)" class="p-inputtext w-full"/>
    <input type="text" [(ngModel)]="newPostCaption" placeholder="Post Caption" class="p-inputtext w-full"/>
    <button class="p-button w-full" (click)="createPost()">Update Profile</button>

    <h3>Followers</h3>
    <ul *ngIf="profileData.followers.length > 0">
      <li *ngFor="let follower of profileData.followers">
        <img [src]="follower.profilepic" alt="Profile Picture" class="small-profile-pic"/>
        <a [routerLink]="'/profile/' + follower.username">{{ follower.username }}</a>
      </li>
    </ul>
    <p *ngIf="profileData.followers.length === 0">No followers yet.</p>

    <h3>Following</h3>
    <ul *ngIf="profileData.following.length > 0">
      <li *ngFor="let followingUser of profileData.following">
        <img [src]="followingUser.profilepic" alt="Profile Picture" class="small-profile-pic"/>
        <a [routerLink]="'/profile/' + followingUser.username">{{ followingUser.username }}</a>
      </li>
    </ul>
    <p *ngIf="profileData.following.length === 0">Not following anyone yet.</p>

    <h3>Manage Posts</h3>
    <ul>
      <li *ngFor="let post of profileData.posts">
        <img [src]="post.postUrl" alt="Post Image" class="small-image"/>
        <p>{{ post.postCaption }}</p>
        <button class="p-button p-button-danger" (click)="deletePost(post._id)">Delete</button>
      </li>
    </ul>
  </div>
</div> -->