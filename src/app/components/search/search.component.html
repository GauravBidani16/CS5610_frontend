<div class="container grid w-full">
  <div class="col-12">
    <h2 class="font-medium">Unsplash Image Search</h2>
  </div>

  <div class="col-12">
    <div class="grid align-items-baseline">
      <div class="col-12 sm:col-12 md:col-8 lg:col-6">
        <p-iftalabel>
          <input pInputText id="unsplashSearch" class="w-full border-noround" [(ngModel)]="query"
            placeholder="Search for images..." />
          <label for="unsplashSearch" class="w-full">Image search</label>
        </p-iftalabel>
      </div>
      <div class="col-12 sm:col-12 md:col-4 lg:col-3">
        <button pButton pRipple icon="pi pi-search" (click)="onSearchSubmit()" [raised]="true" severity="success"
          class="w-full">
          <span pButtonLabel>Search Image</span>
        </button>
      </div>

    </div>
  </div>

  <div class="col-12">
    <div class="grid m-0">
      <div *ngFor="let image of images" class="xl:col-4 lg:col-6 md:col-6 sm:col-12 col-12">
        <div class="flex flex-column shadow-2 pattern-background">
          <div class="aspect-ratio-1 w-full p-2 sm:p-3 lg:p-4">
            <div class="aspect-ratio-1 w-full">
              <p-image [src]="image.urls.regular" alt="Image" styleClass="cursor-pointer"
                imageClass="w-full aspect-ratio-1 object-fit-cover">
              </p-image>
            </div>
          </div>
          <div class="aspect-ratio-6-1 sm:px-3 lg:px-4 pb-3">
            <div class="flex justify-content-between align-items-center">
              <div class="flex flex-column gap-2">
                <div>
                  <span class="m-0 font-medium font-italic">Photo By : </span>
                </div>
                <div>
                  <span class="m-0 font-normal font-italic">{{ image.user.name }}</span>
                </div>
              </div>
              <div>
                <button pButton pRipple icon="pi pi-arrow-up-right" (click)="redirectToDetailsPage(image.id)" [raised]="true" severity="contrast" class="w-full">
                  <span pButtonLabel>Image details</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- <div *ngFor="let image of images" class="lg:col-4 md:col-6 sm:col-12 col-12 p-1">
        <p-image [src]="image.urls.regular" [preview]="true" alt="Image" styleClass="cursor-pointer"
          imageClass="w-full aspect-ratio-1 object-fit-contain">
          <ng-template #preview let-style="style" let-previewCallback="previewCallback">
            <div>
              <div>
                <img [src]="image.urls.regular" alt="image" [style]="style" style="max-height: 50rem;"
                  (click)="previewCallback()" />
              </div>
              <div>
                <h3 class="text-center">Image Preview</h3>
              </div>
            </div>
          </ng-template>
        </p-image>
      </div> -->
    </div>
  </div>
</div>














<!-- 


<div class="container mx-auto p-4 font-sans bg-gray-50 min-h-screen">
  <h1 class="text-4xl font-extrabold text-center text-gray-900 mb-8 tracking-tight">Unsplash Image Search</h1>

  <div class="flex flex-col sm:flex-row gap-4 mb-8 justify-center items-center">
    <input type="text" [(ngModel)]="query" placeholder="Search for images (e.g., nature, technology)"
      class="flex-grow p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 text-lg w-full sm:w-auto" />
    <button (click)="onSearchSubmit()"
      class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed text-lg w-full sm:w-auto">
      {{ 'Search/Random Images' }}
    </button>
  </div>

  <div *ngIf="isLoading" class="text-center text-blue-600 font-medium text-xl my-8">
    <p>Loading images...</p>
  </div>

  <div *ngIf="!isLoading && images.length > 0"
    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <div *ngFor="let image of images"
      class="bg-white rounded-xl shadow-lg overflow-hidden transition-transform transform hover:scale-105 duration-300 ease-in-out">
      <div class="relative w-full pb-[66.66%] bg-gray-200">
        <img [src]="image.urls.regular" [alt]="image.alt_description || 'Unsplash Image'"
          class="absolute top-0 left-0 w-full h-full object-cover" />
      </div>

      <div class="p-4">
        <h3 class="text-lg font-semibold text-gray-800 mb-2 truncate" title="{{ image.alt_description }}">
          {{ image.alt_description || 'No Description' }}
        </h3>
        <div class="flex items-center space-x-3 text-gray-600 text-sm">
          <div class="flex-shrink-0 w-10 h-10 relative overflow-hidden rounded-full bg-gray-300">
            <img [src]="image.user.profile_image.medium" alt="{{ image.user.username }}'s profile picture"
              class="absolute top-0 left-0 w-full h-full object-cover" />
          </div>
          <span class="font-medium">Photo by <a
              [href]="image.user.links.html + '?utm_source=your_app_name&utm_medium=referral'" target="_blank"
              class="text-blue-600 hover:underline">{{ image.user.name }}</a></span>
        </div>
        <p class="text-xs text-gray-500 mt-2">
          Likes: {{ image.likes }}
        </p>
      </div>
    </div>
  </div>

  <div *ngIf="!isLoading && images.length === 0 && currentMode === 'search' && query.trim()"
    class="text-center text-gray-600 my-8">
    No images found for "{{ query }}". Try a different search term.
  </div>

  <div *ngIf="!isLoading && images.length === 0 && currentMode === 'random'" class="text-center text-gray-600 my-8">
    No random images available at the moment.
  </div>
</div> -->