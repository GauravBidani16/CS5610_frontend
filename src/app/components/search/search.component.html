<!-- src/app/search-page/search-page.component.html -->
<div class="container mx-auto p-4 font-sans bg-gray-50 min-h-screen">
  <h1 class="text-4xl font-extrabold text-center text-gray-900 mb-8 tracking-tight">Unsplash Image Search</h1>

  <!-- Search Input and Button -->
  <div class="flex flex-col sm:flex-row gap-4 mb-8 justify-center items-center">
    <input
      type="text"
      [(ngModel)]="query"
      placeholder="Search for images (e.g., nature, technology)"
      class="flex-grow p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 text-lg w-full sm:w-auto"
    />
    <button
      (click)="onSearchSubmit()"
      class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed text-lg w-full sm:w-auto"
    >
      {{ 'Search/Random Images' }}
    </button>
  </div>

  <!-- Loading Indicator (using PrimeNG Spinner if available via PrimeNGModule) -->
  <div *ngIf="isLoading" class="text-center text-blue-600 font-medium text-xl my-8">
    <!-- <p-progressSpinner styleClass="w-8rem h-8rem" strokeWidth="8" fill="var(--surface-ground)" animationDuration=".5s"></p-progressSpinner> -->
    <p>Loading images...</p>
  </div>

  <!-- Image Grid -->
  <div *ngIf="!isLoading && images.length > 0" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <div *ngFor="let image of images" class="bg-white rounded-xl shadow-lg overflow-hidden transition-transform transform hover:scale-105 duration-300 ease-in-out">
      <!-- Image Wrapper with Responsive Aspect Ratio (3:2) -->
      <div class="relative w-full pb-[66.66%] bg-gray-200">
        <img
          [src]="image.urls.regular"
          [alt]="image.alt_description || 'Unsplash Image'"
          class="absolute top-0 left-0 w-full h-full object-cover"
        />
      </div>

      <div class="p-4">
        <h3 class="text-lg font-semibold text-gray-800 mb-2 truncate" title="{{ image.alt_description }}">
          {{ image.alt_description || 'No Description' }}
        </h3>
        <div class="flex items-center space-x-3 text-gray-600 text-sm">
          <!-- Author Profile Picture (Circular and Responsive) -->
          <div class="flex-shrink-0 w-10 h-10 relative overflow-hidden rounded-full bg-gray-300">
            <img
              [src]="image.user.profile_image.medium"
              alt="{{ image.user.username }}'s profile picture"
              class="absolute top-0 left-0 w-full h-full object-cover"
            />
          </div>
          <span class="font-medium">Photo by <a [href]="image.user.links.html + '?utm_source=your_app_name&utm_medium=referral'" target="_blank" class="text-blue-600 hover:underline">{{ image.user.name }}</a></span>
        </div>
        <p class="text-xs text-gray-500 mt-2">
          Likes: {{ image.likes }}
        </p>
      </div>
    </div>
  </div>

  <!-- No Results Message (for queries) -->
  <div *ngIf="!isLoading && images.length === 0 && currentMode === 'search' && query.trim()" class="text-center text-gray-600 my-8">
    No images found for "{{ query }}". Try a different search term.
  </div>

  <!-- Initial Call to Action (for random mode or initial empty query) -->
  <div *ngIf="!isLoading && images.length === 0 && currentMode === 'random'" class="text-center text-gray-600 my-8">
    No random images available at the moment.
  </div>
</div>
